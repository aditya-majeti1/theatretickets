<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ticket-swagger.md</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__left">
    <div class="stackedit__toc">
      
<ul>
<li><a href="#theater-tickets-apis">Theater Tickets APIs</a>
<ul>
<li><a href="#index">INDEX</a></li>
<li><a href="#schema">Schema</a></li>
<li><a href="#post-apitickets">POST /api/tickets</a></li>
<li><a href="#get-apitickets">GET /api/tickets</a></li>
<li><a href="#get-apiticketsid">GET /api/tickets/{id}</a></li>
<li><a href="#put-apiticketsid">PUT /api/tickets/{id}</a></li>
<li><a href="#delete-apiticketsid">DELETE /api/tickets/{id}</a></li>
<li><a href="#get-apianalyticsearned">GET /api/analytics/earned</a></li>
<li><a href="#get-apianalyticsvisited">GET /api/analytics/visited</a></li>
</ul>
</li>
</ul>

    </div>
  </div>
  <div class="stackedit__right">
    <div class="stackedit__html">
      <h1 id="theater-tickets-apis">Theater Tickets APIs</h1>
<p><strong>Description</strong>: Describes theater tickets.</p>
<h2 id="index">INDEX</h2>
<p><a href="#schema">Model Schema</a><br>
<a href="#post-apitickets">Create Tickets</a><br>
<a href="#get-apitickets">Get Tickets</a><br>
<a href="#get-apiticketsid">Get Ticket By Id</a><br>
<a href="#put-apiticketsid">Update Ticket By Id</a><br>
<a href="#delete-apiticketsid">Delete Ticket By Id</a><br>
<a href="#get-apianalyticsearned">Get Summary Profit on Tickets</a><br>
<a href="#get-apianalyticsvisited">Get Summary Visits on Tickets</a></p>
<h2 id="schema">Schema</h2>

<table>
<thead>
<tr>
<th>Property</th>
<th>Datatype</th>
<th>Description</th>
<th>Constrains</th>
</tr>
</thead>
<tbody>
<tr>
<td>customerName</td>
<td>string</td>
<td>customer name of ticket</td>
<td>-</td>
</tr>
<tr>
<td>performanceTitle</td>
<td>string</td>
<td>performance title of ticket</td>
<td>-</td>
</tr>
<tr>
<td>performanceTime</td>
<td>string</td>
<td>performance time of ticket</td>
<td>-</td>
</tr>
<tr>
<td>ticketPrice</td>
<td>string</td>
<td>ticket price of ticket</td>
<td>-</td>
</tr>
<tr>
<td>creationDate</td>
<td>date</td>
<td>created date and time</td>
<td>-</td>
</tr>
</tbody>
</table><h2 id="post-apitickets">POST /api/tickets</h2>
<p><strong>Description:</strong> Create tickets</p>
<p><strong>Authentication:</strong> Required</p>
<p><strong>Payload</strong></p>

<table>
<thead>
<tr>
<th>Type</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>customerName</td>
<td>Yes</td>
</tr>
<tr>
<td>performanceTitle</td>
<td>Yes</td>
</tr>
<tr>
<td>performanceTime</td>
<td>Yes</td>
</tr>
<tr>
<td>ticketPrice</td>
<td>Yes</td>
</tr>
<tr>
<td>creationDate</td>
<td>Yes</td>
</tr>
</tbody>
</table><p><strong>Sample Payload:</strong>  (single ticket creation)</p>
<pre><code>{
	"customerName": "aditya 2",
	"performanceTitle": "The Godfather",
	"performanceTime": "90 mins",
	"ticketPrice": 300,
	"creationDate": "2021-08-15T08:00:00"
}
</code></pre>
<p><strong>Sample Payload:</strong>  (multiple tickets creation)</p>
<pre><code>[{
	
	"performanceTitle": "The Lord of the Rings",
	"performanceTime": "60 mins",
	"ticketPrice": 150,
	"creationDate": "2021-07-05T08:00:00"
}, {
	"customerName": "aditya 8",
	"performanceTitle": "The Dark Knight",
	"performanceTime": "60 mins",
	"ticketPrice": 200,
	"creationDate": "2021-07-12T08:00:00"
}, {
	"customerName": "aditya 9",
	"performanceTitle": "The Lord of the Rings",
	"performanceTime": "60 mins",
	"ticketPrice": 150,
	"creationDate": "2021-07-05T08:00:00"
}, {
	"customerName": "aditya 7",
	"performanceTitle": "The Dark Knight",
	"performanceTime": "60 mins",
	"ticketPrice": 200,
	"creationDate": "2021-07-12T08:00:00"
}, {
	"customerName": "aditya 19",
	"performanceTitle": "The Lord of the Rings",
	"performanceTime": "60 mins",
	"ticketPrice": 150,
	"creationDate": "2021-07-24T08:00:00"
}, {
	"customerName": "aditya 27",
	"performanceTitle": "The Dark Knight",
	"performanceTime": "60 mins",
	"ticketPrice": 200,
	"creationDate": "2021-07-24T08:00:00"
}, {
	"customerName": "aditya 1",
	"performanceTitle": "The Godfather",
	"performanceTime": "90 mins",
	"ticketPrice": 300,
	"creationDate": "2021-08-15T08:00:00"
}, {
	"customerName": "aditya 2",
	"performanceTitle": "The Godfather",
	"performanceTime": "90 mins",
	"ticketPrice": 300,
	"creationDate": "2021-08-15T08:00:00"
}, {
	"customerName": "aditya 3",
	"performanceTitle": "The Godfather",
	"performanceTime": "90 mins",
	"ticketPrice": 300,
	"creationDate": "2021-08-15T08:00:00"
}, {
	"customerName": "aditya 6",
	"performanceTitle": "The Dark Knight",
	"performanceTime": "60 mins",
	"ticketPrice": 200,
	"creationDate": "2021-08-19T08:00:00"
}, {
	"customerName": "aditya 7",
	"performanceTitle": "The Dark Knight",
	"performanceTime": "60 mins",
	"ticketPrice": 200,
	"creationDate": "2021-08-19T08:00:00"
}]
</code></pre>
<p><strong>Response</strong></p>
<p><strong>200</strong> : Request was successful</p>
<pre><code>{
    "_id": "610351334847fc32ca38f9b3",
    "customerName": "aditya 2",
    "performanceTitle": "The Godfather",
    "performanceTime": "90 mins",
    "ticketPrice": 300,
    "creationDate": "2021-08-15T02:30:00.000Z",
    "__v": 0
}
</code></pre>
<p><strong>401</strong>: Unauthorized</p>
<pre><code>Access Denied!
</code></pre>
<p><strong>422</strong>: Unprocessable Entity</p>
<pre><code>Input required
</code></pre>
<h2 id="get-apitickets">GET /api/tickets</h2>
<p><strong>Description:</strong> Get tickets</p>
<p><strong>Authentication:</strong> Required</p>
<p><strong>Response</strong></p>
<p><strong>200</strong>: Request was successful</p>
<pre><code>[{
    "_id": "610351334847fc32ca38f9b3",
    "customerName": "aditya 2",
    "performanceTitle": "The Godfather",
    "performanceTime": "90 mins",
    "ticketPrice": 300,
    "creationDate": "2021-08-15T02:30:00.000Z",
    "__v": 0
}]
</code></pre>
<p><strong>401</strong>: Unauthorized</p>
<pre><code>Access Denied!
</code></pre>
<h2 id="get-apiticketsid">GET /api/tickets/{id}</h2>
<p><strong>Description:</strong> Get ticket by id</p>
<p><strong>Authentication:</strong> Required</p>
<p><strong>Parameters</strong></p>

<table>
<thead>
<tr>
<th>Type</th>
<th>Name</th>
<th>Description</th>
<th>Example</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>Path</td>
<td>id</td>
<td>ticket id</td>
<td><code>610351334847fc32ca38f9b3</code></td>
<td>Yes</td>
</tr>
</tbody>
</table><p><strong>Response</strong></p>
<p><strong>200</strong>: Request was successful</p>
<pre><code>{
    "_id": "610351334847fc32ca38f9b3",
    "customerName": "aditya 2",
    "performanceTitle": "The Godfather",
    "performanceTime": "90 mins",
    "ticketPrice": 300,
    "creationDate": "2021-08-15T02:30:00.000Z",
    "__v": 0
}
</code></pre>
<p><strong>401</strong>: Unauthorized</p>
<pre><code>Access Denied!
</code></pre>
<h2 id="put-apiticketsid">PUT /api/tickets/{id}</h2>
<p><strong>Description:</strong> Update ticket by id</p>
<p><strong>Authentication:</strong> Required</p>
<p><strong>Parameters</strong></p>

<table>
<thead>
<tr>
<th>Type</th>
<th>Name</th>
<th>Description</th>
<th>Example</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>Path</td>
<td>id</td>
<td>ticket id</td>
<td><code>610351334847fc32ca38f9b3</code></td>
<td>Yes</td>
</tr>
</tbody>
</table><p><strong>Payload</strong></p>

<table>
<thead>
<tr>
<th>Type</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>_id</td>
<td>Yes</td>
</tr>
<tr>
<td>customerName</td>
<td>Yes</td>
</tr>
<tr>
<td>performanceTitle</td>
<td>Yes</td>
</tr>
<tr>
<td>performanceTime</td>
<td>Yes</td>
</tr>
<tr>
<td>ticketPrice</td>
<td>Yes</td>
</tr>
<tr>
<td>creationDate</td>
<td>Yes</td>
</tr>
</tbody>
</table><p><strong>Sample Payload</strong></p>
<pre><code>{
    "_id": "610351334847fc32ca38f9b3",
    "customerName": "aditya 2q",
    "performanceTitle": "The Godfather",
    "performanceTime": "90 mins",
    "ticketPrice": 300,
    "creationDate": "2021-08-15T02:30:00.000Z"
}
</code></pre>
<p><strong>Response</strong></p>
<p><strong>200</strong>: Request was successful</p>
<pre><code>{
  "n": 1,
  "nModified": 0,
  "ok": 1
}
</code></pre>
<p><strong>401</strong>: Unauthorized</p>
<pre><code>Access Denied!
</code></pre>
<h2 id="delete-apiticketsid">DELETE /api/tickets/{id}</h2>
<p><strong>Description:</strong> Delete ticket by id</p>
<p><strong>Authentication:</strong> Required</p>
<p><strong>Parameters</strong></p>

<table>
<thead>
<tr>
<th>Type</th>
<th>Name</th>
<th>Description</th>
<th>Example</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>Path</td>
<td>id</td>
<td>api-key id</td>
<td><code>vJtr7HcBRwdyJDYm1UTI</code></td>
<td>Yes</td>
</tr>
</tbody>
</table><p><strong>Response</strong></p>
<p><strong>200</strong>: Request was successful</p>
<pre><code>{
  "n": 1,
  "ok": 1,
  "deletedCount": 1
}
</code></pre>
<p><strong>401</strong>: Unauthorized</p>
<pre><code>Access Denied!
</code></pre>
<h2 id="get-apianalyticsearned">GET /api/analytics/earned</h2>
<p><strong>Description:</strong> Get Summary Profit on Tickets</p>
<p><strong>Authentication:</strong> Required</p>
<p><strong>Parameters</strong></p>

<table>
<thead>
<tr>
<th>Type</th>
<th>Name</th>
<th>Description</th>
<th>Example</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>Query</td>
<td>method</td>
<td>analytics method</td>
<td><code>aggregation/algorithms</code></td>
<td>Yes</td>
</tr>
<tr>
<td>Query</td>
<td>fromDate</td>
<td>analytics fromDate</td>
<td><code>2021-07-01T00:00:00.000Z</code></td>
<td>Yes</td>
</tr>
<tr>
<td>Query</td>
<td>toDate</td>
<td>analytics toDate</td>
<td><code>2021-08-31T00:00:00.000Z</code></td>
<td>Yes</td>
</tr>
</tbody>
</table><p><strong>Response</strong></p>
<p><strong>200</strong>: Request was successful</p>
<pre><code>[
  {
    "summaryProfit": 1600,
    "month": "August"
  },
  {
    "summaryProfit": 1800,
    "month": "July"
  }
]
</code></pre>
<p><strong>401</strong>: Unauthorized</p>
<pre><code>Access Denied!
</code></pre>
<h2 id="get-apianalyticsvisited">GET /api/analytics/visited</h2>
<p><strong>Description:</strong> Get Summary Visits on Tickets</p>
<p><strong>Authentication:</strong> Required</p>
<p><strong>Parameters</strong></p>

<table>
<thead>
<tr>
<th>Type</th>
<th>Name</th>
<th>Description</th>
<th>Example</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>Query</td>
<td>method</td>
<td>analytics method</td>
<td><code>aggregation/algorithms</code></td>
<td>Yes</td>
</tr>
<tr>
<td>Query</td>
<td>fromDate</td>
<td>analytics fromDate</td>
<td><code>2021-07-01T00:00:00.000Z</code></td>
<td>Yes</td>
</tr>
<tr>
<td>Query</td>
<td>toDate</td>
<td>analytics toDate</td>
<td><code>2021-08-31T00:00:00.000Z</code></td>
<td>Yes</td>
</tr>
</tbody>
</table><p><strong>Response</strong></p>
<p><strong>200</strong>: Request was successful</p>
<pre><code>[
  {
    "summaryVisits": 6,
    "month": "August"
  },
  {
    "summaryVisits": 11,
    "month": "July"
  }
]
</code></pre>
<p><strong>401</strong>: Unauthorized</p>
<pre><code>Access Denied!
</code></pre>

    </div>
  </div>
</body>

</html>
